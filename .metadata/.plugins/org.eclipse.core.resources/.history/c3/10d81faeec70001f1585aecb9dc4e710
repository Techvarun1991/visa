//package com.onehealth.lifestyleandhistory.security;
//
//import org.keycloak.OAuth2Constants;
//import org.keycloak.admin.client.Keycloak;
//import org.keycloak.admin.client.KeycloakBuilder;
//import org.keycloak.admin.client.resource.RealmResource;
//import org.keycloak.representations.AccessTokenResponse;
//import org.springframework.beans.factory.annotation.Value;
//import org.springframework.context.annotation.Bean;
//import org.springframework.stereotype.Component;
//
//@Component
//public class KeycloakSecurityUtils {
//
//	private Keycloak keycloak;
//
//	@Value("${server-url}")
//	private String serverUrl;
//
//	@Value("${realm-name}")
//	private String realmName;
//
//	@Value("${client-id}")
//	private String clientId;
//
//	@Value("${grant-type}")
//	private String grantType;
//
//	@Value("${username}")
//	private String username;
//
//	@Value("${password}")
//	private String password;
//
//	@Bean
//	public Keycloak getInitializedKeycloak() {
//		if (keycloak == null) {
//			keycloak = KeycloakBuilder.builder().serverUrl("http://192.168.1.206:32080/")
//					.realm("aarogyamandi").clientId("admin-cli").username("onehealthinfobell@gmail.com")
//					.password("admin").grantType("password").build();
//		}
//		return keycloak;
//	}
//
//	public RealmResource getRealmResource() {
//		return getInitializedKeycloak().realm(realmName);
//	}
//
//	public AccessTokenResponse getAccessToken(String email, String password) {
//		System.out.println("inside get acess token"+email+""+password);
//		Keycloak keycloak1 = KeycloakBuilder.builder().serverUrl("http://192.168.1.206:32080/").realm("aarogyamandi")
//				.clientId("aarogyamandi-cli").clientSecret("NTuH5ykcPOiZSBSZXMo1ThMmu9lU2oLB").username(email).password(password).grantType("password")
//				.build();
//
//		AccessTokenResponse tokenResponse = keycloak1.tokenManager().getAccessToken();
//		return tokenResponse;
//	}
//
////    public Keycloak getKeycloakInstance() {
////        if (keycloak == null) {
////            String token = getAccessToken();
////            keycloak = KeycloakBuilder.builder()
////            		.serverUrl("http://localhost:8080/")
////	                .realm("demo")
////	                .clientId("admin-cli")
////                    .authorization("Bearer " + token)
////                    .build();
////        }
////        return keycloak;
////    }
////    
////    public  AccessTokenResponse getAccessTokenUsingEmail(String email , String password) {
////        Keycloak keycloak = KeycloakBuilder.builder()
////                .serverUrl("http://192.168.1.206:32080/")
////                .realm("aarogyamandi")
////                .clientId("admin-cli")
////                .username(email)
////                .password(password)
////                .grantType(OAuth2Constants.PASSWORD)
////                .build();
////        AccessTokenResponse tokenResponse = keycloak.tokenManager().getAccessToken();
////        System.out.println(tokenResponse+"---------------token response");
//////        System.out.println("the token is "+tokenResponse.getToken());
////
////        return tokenResponse;
////    }
////}
//
////	public AccessTokenResponse getAccessTokenUsingEmail(String email, String password) {
////		Keycloak keycloak = KeycloakBuilder.builder().serverUrl("http://192.168.1.206:32080/").realm("aarogyamandi")
////				.clientId("aarogyamandi-cli").clientSecret("NTuH5ykcPOiZSBSZXMo1ThMmu9lU2oLB")
////				.username("onehealthinfobell@gmail.com").password("123456").grantType("passsword").build();
////
////		AccessTokenResponse tokenResponse = keycloak.tokenManager().getAccessToken();
////		return tokenResponse;
////	}
//}
